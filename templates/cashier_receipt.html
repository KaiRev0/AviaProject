{% extends "base.html" %}

{% block title %}–ß–µ–∫ –ø—Ä–æ–¥–∞–∂–∏{% endblock %}

{% block content %}
<div class="dashboard">
    <div class="receipt-container">
        <div class="receipt-header">
            <h2>–ß–µ–∫ –ø—Ä–æ–¥–∞–∂–∏ ‚Ññ{{ ticket['id'] }}</h2>
            <div class="print-btn" onclick="window.print()">üñ®Ô∏è –†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å</div>
        </div>
        
        <div class="receipt-body">
            <div class="company-info">
                <h3>–ê–≤–∏–∞–∫–æ–º–ø–∞–Ω–∏—è "–ê—ç—Ä–æ—Ñ–ª–æ—Ç"</h3>
                <p>–ò–ù–ù 7710137066, –ö–ü–ü 771001001</p>
                <p>–ö–∞—Å—Å–∏—Ä: {{ session.get('phone') }}</p>
                <p>–î–∞—Ç–∞: {{ ticket['purchase_date'] }}</p>
            </div>
            
            <div class="receipt-details">
                <div class="detail-section">
                    <h4>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–π—Å–µ</h4>
                    <div class="detail-row">
                        <span>–ù–æ–º–µ—Ä —Ä–µ–π—Å–∞:</span>
                        <span>{{ ticket['flight_number'] }}</span>
                    </div>
                    <div class="detail-row">
                        <span>–ú–∞—Ä—à—Ä—É—Ç:</span>
                        <span>{{ ticket['departure_city'] }} ‚Üí {{ ticket['arrival_city'] }}</span>
                    </div>
                    <div class="detail-row">
                        <span>–í—ã–ª–µ—Ç:</span>
                        <span>{{ ticket['departure_time'] }}</span>
                    </div>
                    <div class="detail-row">
                        <span>–ü—Ä–∏–ª–µ—Ç:</span>
                        <span>{{ ticket['arrival_time'] }}</span>
                    </div>
                </div>
                
                <div class="detail-section">
                    <h4>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞—Å—Å–∞–∂–∏—Ä–µ</h4>
                    <div class="detail-row">
                        <span>–§–ò–û:</span>
                        <span>{{ ticket['passenger_name'] }}</span>
                    </div>
                    <div class="detail-row">
                        <span>–ü–∞—Å–ø–æ—Ä—Ç:</span>
                        <span>{{ ticket['passenger_passport'] }}</span>
                    </div>
                    <div class="detail-row">
                        <span>–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                        <span>{{ ticket['customer_phone'] }}</span>
                    </div>
                </div>
                
                <div class="detail-section">
                    <h4>–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                    <div class="detail-row">
                        <span>–°—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞:</span>
                        <span>{{ ticket['price'] }} —Ä—É–±.</span>
                    </div>
                    <div class="detail-row">
                        <span>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</span>
                        <span>{{ '–ù–∞–ª–∏—á–Ω—ã–µ' if ticket['payment_method'] == 'cash' else '–ö–∞—Ä—Ç–∞' if ticket['payment_method'] == 'card' else '–ü–µ—Ä–µ–≤–æ–¥' }}</span>
                    </div>
                    <div class="detail-row total">
                        <span>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>
                        <span class="total-price">{{ ticket['price'] }} —Ä—É–±.</span>
                    </div>
                </div>
            </div>
            
            <div class="receipt-footer">
                <p>–ë–∏–ª–µ—Ç —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–¥–∞–Ω. –ù–æ–º–µ—Ä –±–∏–ª–µ—Ç–∞: <strong>{{ ticket['id'] }}</strong></p>
                <p>–ü—Ä–∏ —Å–µ–±–µ –∏–º–µ—Ç—å –ø–∞—Å–ø–æ—Ä—Ç –∏ —Ä–∞—Å–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–π –ø–æ—Å–∞–¥–æ—á–Ω—ã–π —Ç–∞–ª–æ–Ω.</p>
                <p class="signature">–ö–∞—Å—Å–∏—Ä _______________</p>
            </div>
        </div>
        
        <div class="receipt-actions">
            <a href="/cashier/search" class="btn">–ù–æ–≤–∞—è –ø—Ä–æ–¥–∞–∂–∞</a>
            <a href="/cashier" class="btn">–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</a>
        </div>
    </div>
</div>

<style>
@media print {
    .header, .back-btn, .receipt-actions, .print-btn {
        display: none !important;
    }
    
    .receipt-container {
        box-shadow: none !important;
        border: 1px solid #000 !important;
    }
}
</style>
{% endblock %}